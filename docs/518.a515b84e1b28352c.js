"use strict";(self.webpackChunkstore_app=self.webpackChunkstore_app||[]).push([[518],{8518:(dt,Z,r)=>{r.r(Z),r.d(Z,{productsModule:()=>T});var c=r(6895),I=r(8996),t=r(4650),C=r(1135),j=r(9841),J=r(4004),w=r(8505),O=r(5698),u=(()=>{return(e=u||(u={}))[e.PHYSICAL=1]="PHYSICAL",e[e.DIGITAL=2]="DIGITAL",u;var e})(),U=r(529),b=r(7185);class l{constructor(n,o){this._http=n,this._toasterService=o,this._productsStore=new C.X([]),this.allProducts$=this._productsStore.asObservable(),this.physicalProducts=new C.X([]),this.physicalProducts$=this.physicalProducts.asObservable(),this.digitalProducts=new C.X([]),this.digitalProducts$=this.digitalProducts.asObservable(),this.onAddToCart=i=>{i.type===u.PHYSICAL&&(this.physicalProducts.next([...this.physicalProducts.getValue(),i]),this._toasterService.success("Product added to the cart successfully")),i.type===u.DIGITAL&&(0!==i.productPrice?(this.digitalProducts.next([...this.digitalProducts.getValue(),i]),this._toasterService.success("Product added to the cart successfully")):this._toasterService.error("Can't add this product until now, only free download"))},this.totalPrice$=(0,j.a)([this.physicalProducts$,this.digitalProducts$]).pipe((0,J.U)(([i,s])=>this._calculateTotalPrice([...i,...s]))),this._calculateTotalPrice=i=>i.reduce((s,a)=>s+a?.productPrice,0),this._storProducts=()=>{this._getProducts$.pipe((0,w.b)(i=>this._productsStore.next(i)),(0,O.q)(1)).subscribe()},this._getProducts$=this._http.get("assets/data-source/products.json"),this._storProducts()}}function L(e,n){if(1&e&&(t.TgZ(0,"div",6)(1,"span",7),t._uU(2),t.qZA(),t.TgZ(3,"span",8),t._uU(4,"-"),t.qZA(),t.TgZ(5,"span",7),t._uU(6),t.qZA(),t.TgZ(7,"span",9),t._uU(8),t.qZA()()),2&e){const o=n.$implicit,i=n.index;t.xp6(2),t.Oqu(i+1),t.xp6(4),t.hij("",o.productName," "),t.xp6(2),t.hij("",o.productPrice," ")}}function N(e,n){if(1&e&&(t.ynx(0),t.YNc(1,L,9,3,"div",5),t.BQk()),2&e){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}function q(e,n){if(1&e&&(t.ynx(0),t.YNc(1,N,2,1,"ng-container",4),t.BQk()),2&e){const o=n.ngIf;t.oxw();const i=t.MAs(6);t.xp6(1),t.Q6J("ngIf",o.length)("ngIfElse",i)}}function B(e,n){1&e&&(t.TgZ(0,"div",10),t._uU(1," There is no data added yet..! "),t.qZA())}l.\u0275fac=function(n){return new(n||l)(t.LFG(U.eN),t.LFG(b._W))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});class f{constructor(n){this._productsService=n,this.digitalProducts$=this._productsService.digitalProducts$}}function Y(e,n){if(1&e&&(t.TgZ(0,"div",6)(1,"span",7),t._uU(2),t.qZA(),t.TgZ(3,"span",7),t._uU(4),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.qZA()()),2&e){const o=n.$implicit,i=n.index;t.xp6(2),t.hij("",i+1," - "),t.xp6(2),t.hij("",o.productName," "),t.xp6(2),t.hij("",o.productPrice," ")}}function Q(e,n){if(1&e&&(t.ynx(0),t.YNc(1,Y,7,3,"div",5),t.BQk()),2&e){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}function $(e,n){if(1&e&&(t.ynx(0),t.YNc(1,Q,2,1,"ng-container",4),t.BQk()),2&e){const o=n.ngIf;t.oxw();const i=t.MAs(6);t.xp6(1),t.Q6J("ngIf",o.length)("ngIfElse",i)}}function D(e,n){1&e&&(t.TgZ(0,"div",9),t._uU(1," There is no data added yet..! "),t.qZA())}f.\u0275fac=function(n){return new(n||f)(t.Y36(l))},f.\u0275cmp=t.Xpm({type:f,selectors:[["digital-products"]],decls:7,vars:3,consts:[[1,"min-h-[40vh]","flex","flex-col","justify-start","items-streatch","gap-2","border-2","border-b-gray-500"],[1,"w-full","flex","justify-center","items-center","test-center","text-base","mb-0"],[4,"ngIf"],["noData",""],[4,"ngIf","ngIfElse"],["class","flex justify-start items-center px-2",4,"ngFor","ngForOf"],[1,"flex","justify-start","items-center","px-2"],[1,"font-medium","text-sm"],[1,"font-medium","text-sm","mx-1"],[1,"ml-4","font-medium","text-sm"],[1,"h-14","flex","justify-center","items-center"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2," Digital Products "),t.qZA(),t.YNc(3,q,2,2,"ng-container",2),t.ALo(4,"async"),t.qZA(),t.YNc(5,B,2,0,"ng-template",null,3,t.W1O)),2&n&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,o.digitalProducts$)))},dependencies:[c.sg,c.O5,c.Ov]});class g{constructor(n){this._productsService=n,this.physicalProducts$=this._productsService.physicalProducts$}}g.\u0275fac=function(n){return new(n||g)(t.Y36(l))},g.\u0275cmp=t.Xpm({type:g,selectors:[["physical-products"]],decls:7,vars:3,consts:[[1,"min-h-[40vh]","flex","flex-col","justify-start","items-streatch","gap-2","border-2","border-b-gray-500"],[1,"w-full","flex","justify-center","items-center","test-center","text-base"],[4,"ngIf"],["noData",""],[4,"ngIf","ngIfElse"],["class","flex justify-start items-center px-2",4,"ngFor","ngForOf"],[1,"flex","justify-start","items-center","px-2"],[1,"font-medium","text-sm"],[1,"ml-4","font-medium","text-sm"],[1,"h-14","flex","justify-center","items-center"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2," Physical Products "),t.qZA(),t.YNc(3,$,2,2,"ng-container",2),t.ALo(4,"async"),t.qZA(),t.YNc(5,D,2,0,"ng-template",null,3,t.W1O)),2&n&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,o.physicalProducts$)))},dependencies:[c.sg,c.O5,c.Ov]});var _=r(6223),A=r(846);function M(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-button",9),t.NdJ("clicked",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.onAddProduct.emit())}),t._uU(1,"Add to cart"),t.qZA()}if(2&e){const o=t.oxw(2);t.Q6J("matType",o.ButtonTypes.raised)("color",o.ButtonColors.primary)}}function k(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-button",9),t.NdJ("clicked",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.onAddProduct.emit())}),t._uU(1),t.qZA()}if(2&e){const o=t.oxw(2);t.Q6J("matType",o.ButtonTypes.raised)("color",0===o.product.productPrice?o.ButtonColors.warn:o.ButtonColors.primary),t.xp6(1),t.Oqu(0===o.product.productPrice?"Free download":"Add to cart")}}function z(e,n){if(1&e&&(t.TgZ(0,"div",1)(1,"dir",2)(2,"span",3),t._uU(3,"Name:"),t.qZA(),t.TgZ(4,"span",4),t._uU(5),t.qZA()(),t.TgZ(6,"dir",5)(7,"span",3),t._uU(8,"Description:"),t.qZA(),t.TgZ(9,"span",6),t._uU(10),t.qZA()(),t.TgZ(11,"dir",5)(12,"span",3),t._uU(13,"price:"),t.qZA(),t.TgZ(14,"span",4),t._uU(15),t.qZA()(),t.TgZ(16,"dir",5)(17,"span",3),t._uU(18,"Type:"),t.qZA(),t.TgZ(19,"span",3),t._uU(20),t.qZA()(),t.TgZ(21,"div",7),t.YNc(22,M,2,2,"app-button",8),t.YNc(23,k,2,3,"app-button",8),t.qZA()()),2&e){const o=t.oxw();t.xp6(5),t.Oqu(o.product.productName),t.xp6(5),t.hij(" ",o.product.description," "),t.xp6(5),t.Oqu(o.product.productPrice),t.xp6(5),t.Oqu(o.product.type===o.ProductType.PHYSICAL?"Physical":"Digital"),t.xp6(2),t.Q6J("ngIf",o.product.type===o.ProductType.PHYSICAL),t.xp6(1),t.Q6J("ngIf",o.product.type===o.ProductType.DIGITAL)}}class h{constructor(){this.product=void 0,this.onAddProduct=new t.vpe,this.ProductType=u,this.ButtonTypes=_.qh,this.ButtonColors=_.Tt}}function E(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.ALo(3,"number"),t.qZA(),t.BQk()),2&e){const o=n.ngIf;t.xp6(2),t.Oqu(t.xi3(3,1,o,"1.2-2"))}}function G(e,n){1&e&&(t.TgZ(0,"span",2),t._uU(1," 0 "),t.qZA())}h.\u0275fac=function(n){return new(n||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["product"]],inputs:{product:"product"},outputs:{onAddProduct:"onAddProduct"},decls:1,vars:1,consts:[["class","flex flex-col justify-start items-stretch shadow-md rounded p-2",4,"ngIf"],[1,"flex","flex-col","justify-start","items-stretch","shadow-md","rounded","p-2"],[1,"w-full","flex","justify-start","items-center","gap-2","p-0"],[1,"md:font-semibold","text-sm"],[1,"md:font-semibold","text-sm","text-gray-700"],[1,"flex","justify-start","items-center","gap-2","p-0"],[1,"md:font-semibold","text-xs","text-gray-700"],[1,"flex","justify-center","items-center","mt-2"],[3,"matType","color","clicked",4,"ngIf"],[3,"matType","color","clicked"]],template:function(n,o){1&n&&t.YNc(0,z,24,6,"div",0),2&n&&t.Q6J("ngIf",o.product)},dependencies:[c.O5,A.r]});class x{constructor(n){this._productsService=n,this.totalPrice$=this._productsService.totalPrice$,this.ProductType=u,this.ButtonTypes=_.qh,this.ButtonColors=_.Tt}}function H(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"product",6),t.NdJ("onAddProduct",function(){const a=t.CHM(o).$implicit,d=t.oxw(2);return t.KtG(d.onAddToCart(a))}),t.qZA()}2&e&&t.Q6J("product",n.$implicit)}function V(e,n){if(1&e&&(t.TgZ(0,"div",4),t.YNc(1,H,1,1,"product",5),t.qZA()),2&e){const o=n.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}x.\u0275fac=function(n){return new(n||x)(t.Y36(l))},x.\u0275cmp=t.Xpm({type:x,selectors:[["total-price"]],decls:11,vars:6,consts:[[1,"flex","flex-col","justify-start","items-streatch","gap-2","p-4"],[1,"flex","justify-start","items-center","gap-2"],[1,"text-base","font-semibold"],[4,"ngIf","ngIfElse"],["zero",""],[1,"flex","justify-end","items-center"],[3,"matType","color"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"strong",2),t._uU(3,"Total: "),t.qZA(),t.YNc(4,E,4,4,"ng-container",3),t.ALo(5,"async"),t.YNc(6,G,2,0,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(8,"div",5)(9,"app-button",6),t._uU(10,"Continue"),t.qZA()()()),2&n){const i=t.MAs(7);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,4,o.totalPrice$))("ngIfElse",i),t.xp6(5),t.Q6J("matType",o.ButtonTypes.raised)("color",o.ButtonColors.accent)}},dependencies:[c.O5,A.r,c.Ov,c.JJ]});class y{constructor(n){this._productsService=n,this.allProducts$=this._productsService.allProducts$,this.onAddToCart=o=>this._productsService.onAddToCart(o)}}y.\u0275fac=function(n){return new(n||y)(t.Y36(l))},y.\u0275cmp=t.Xpm({type:y,selectors:[["products-container"]],decls:8,vars:3,consts:[[1,"relative","grid","md:grid-cols-10","grid-cols-2","md:gap-4","gap-2","md:p-8","p-4"],["class","md:col-span-8 col-span-1 grid md:grid-cols-4 grid-cols-2 md:gap-3 gap-2",4,"ngIf"],[1,"md:col-span-2","col-span-1"],[1,"min-h-[80vh]","sticky","top-4","w-full","flex","flex-col","justify-start","items-streatch","rounded","border-2","border-gray-500"],[1,"md:col-span-8","col-span-1","grid","md:grid-cols-4","grid-cols-2","md:gap-3","gap-2"],[3,"product","onAddProduct",4,"ngFor","ngForOf"],[3,"product","onAddProduct"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0),t.YNc(1,V,2,1,"div",1),t.ALo(2,"async"),t.TgZ(3,"div",2)(4,"div",3),t._UZ(5,"physical-products")(6,"digital-products")(7,"total-price"),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,o.allProducts$)))},dependencies:[c.sg,c.O5,h,g,f,x,c.Ov]});const X=[{path:"",component:y}];class p{}p.Component=[y,h,g,f,x],p.\u0275fac=function(n){return new(n||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[I.Bz.forChild(X),I.Bz]});var F=r(2036),v=r(4006),R=r(4707),S=r(2722),K=r(1884),W=r(7392),tt=r(266);function ot(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"label",3)(1,"mat-icon",4),t._uU(2,"add_photo_alternate"),t.qZA(),t.TgZ(3,"input",5,6),t.NdJ("change",function(s){t.CHM(o);const a=t.MAs(4),d=t.oxw();return t.KtG(d.onSelectFile(s,null==a?null:a.files))}),t.qZA()()}if(2&e){const o=t.oxw();t.Q6J("matTooltip",o.label)}}function nt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-button",14),t.NdJ("clicked",function(){t.CHM(o);const s=t.oxw(3);return t.KtG(s.onResetImage())}),t.qZA()}if(2&e){const o=t.oxw(3);t.Q6J("matType",o.ButtonTypes.miniFap)("color",o.ButtonColors.warn)}}function it(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",10),t.YNc(1,nt,1,2,"app-button",11),t.TgZ(2,"label",12)(3,"mat-icon",13),t._uU(4,"edit"),t.qZA(),t.TgZ(5,"input",5,6),t.NdJ("change",function(s){t.CHM(o);const a=t.MAs(6),d=t.oxw(2);return t.KtG(d.onSelectFile(s,null==a?null:a.files))}),t.qZA()()()}if(2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.showDeleteBtn)}}function st(e,n){if(1&e&&(t.TgZ(0,"div",7),t._UZ(1,"img",8),t.YNc(2,it,7,1,"div",9),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("src",o.image.preview,t.LSH),t.xp6(1),t.Q6J("ngIf",o.showActions)}}class m{constructor(n,o){this._fb=n,this._toastService=o,this._destroyAll$=new R.t(1),this.showActions=!0,this.showDeleteBtn=!0,this.label="upload",this.sizeLimit=5,this.formControl=this._fb.control(null,{nonNullable:!0,validators:v.kI.required}),this.ButtonTypes=_.qh,this.ButtonColors=_.Tt,this.image={file:void 0,preview:null},this.onResetImage=()=>{this.image={file:void 0,preview:null}},this.onTouched=()=>{},this.registerOnChange=i=>{this.formControl.valueChanges.pipe((0,S.R)(this._destroyAll$)).subscribe(i)},this.registerOnTouched=i=>this.onTouched=i,this.setDisabledState=i=>{i?this.formControl.disable():this.formControl.enable()},this.validate=()=>this.formControl.valid?null:{invalidForm:{valid:!1,message:"Form fields are invalid"}},this._readFileAImage=i=>{const s=new FileReader;i instanceof File?(s.readAsDataURL(i),s.onload=a=>{const{result:d}=s;this.image={file:i,preview:d}}):this.image={file:void 0,preview:i},this.formControl.setValue(i),this.formControl.updateValueAndValidity()}}ngOnInit(){this.formControl.valueChanges.pipe((0,K.x)(),(0,w.b)(n=>this._readFileAImage(n)),(0,S.R)(this._destroyAll$)).subscribe()}onSelectFile(n,o){if(o?.length){const i=o[0],s=new FileReader;if(s.readAsDataURL(n?.target?.files[0]),i&&this.sizeLimit&&i.size>=1e3*this.sizeLimit*1024)return void this._toastService.error("File size is out of the range data upload (5MB) maximum");if(!i||!i.type.match(/image\/*/))return void this._toastService.error("File type is invalid");s.onload=a=>{this.formControl.setValue(i),this.formControl.updateValueAndValidity()}}}writeValue(n){n&&this.formControl.patchValue(n,{emitEvent:!0})}ngOnDestroy(){this._destroyAll$.next(void 0),this._destroyAll$.complete()}}function rt(e,n){1&e&&(t.O4$(),t.TgZ(0,"svg",4),t._UZ(1,"path",5),t.qZA())}m.\u0275fac=function(n){return new(n||m)(t.Y36(v.qu),t.Y36(b._W))},m.\u0275cmp=t.Xpm({type:m,selectors:[["image-picker","formControlName",""],["image-picker","formControl",""],["image-picker","ngModel",""]],inputs:{showActions:"showActions",showDeleteBtn:"showDeleteBtn",label:"label",sizeLimit:"sizeLimit"},standalone:!0,features:[t._Bn([{provide:v.JU,useExisting:(0,t.Gpc)(()=>m),multi:!0},{provide:v.Cf,useExisting:(0,t.Gpc)(()=>m),multi:!0}]),t.jDz],attrs:["formControlName",""],decls:3,vars:2,consts:[[1,"flex","justify-center","items-center"],["class","flex justify-center items-center rounded-md m-0 p-[35px] border-2 border-gray-400 border-dashed bg-slate-100 cursor-pointer","for","img-input",3,"matTooltip",4,"ngIf"],["class","w-auto h-auto rounded",4,"ngIf"],["for","img-input",1,"flex","justify-center","items-center","rounded-md","m-0","p-[35px]","border-2","border-gray-400","border-dashed","bg-slate-100","cursor-pointer",3,"matTooltip"],[1,"text-[30px]","font-medium","text-gray-600","align-middle","text-center"],["id","img-input","type","file","hidden","",3,"change"],["input",""],[1,"w-auto","h-auto","rounded"],["width","245","height","130","loading","eager",3,"src"],["class","flex justify-start items-center px-0 gap-2",4,"ngIf"],[1,"flex","justify-start","items-center","px-0","gap-2"],["class","w-auto","toolTip","delete","icon","delete",3,"matType","color","clicked",4,"ngIf"],["matTooltip","edit","matTooltipPosition","above","for","img-input",1,"w-auto","flex","justify-centeritems-center","rounded-full","mat-elevation-z3","bg-gray-600","p-[8px]","cursor-pointer","m-0"],[1,"h-auto","w-auto","font-medium","text-white","text-center","align-middle"],["toolTip","delete","icon","delete",1,"w-auto",3,"matType","color","clicked"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,ot,5,1,"label",1),t.YNc(2,st,3,2,"div",2),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",!(null!=o.image&&o.image.preview)),t.xp6(1),t.Q6J("ngIf",!(null==o.image||!o.image.preview)))},dependencies:[c.ez,c.O5,v.u5,v.UX,F.m,W.Hw,tt.gM,A.r],styles:["mat-icon[_ngcontent-%COMP%]{width:auto!important;height:auto!important}"]});const ct=function(e){return{width:e}},at=function(){return[0,0,0,0,0]};function lt(e,n){if(1&e&&(t.TgZ(0,"section",1)(1,"div",2),t.YNc(2,rt,2,0,"svg",3),t.qZA()()),2&e){const o=t.oxw();t.Q6J("ngStyle",t.VKq(2,ct,o.rate/5*116+"px")),t.xp6(2),t.Q6J("ngForOf",t.DdM(4,at))}}class P{}P.\u0275fac=function(n){return new(n||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["stars"]],inputs:{rate:"rate"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","overflow-hidden",3,"ngStyle",4,"ngIf"],[1,"overflow-hidden",3,"ngStyle"],[1,"w-[112px]","flex","flex-row","justify-start","items-center","gap-1"],["class","w-5 h-5 fill-current text-blue-500","viewBox","0 0 24 24",4,"ngFor","ngForOf"],["viewBox","0 0 24 24",1,"w-5","h-5","fill-current","text-blue-500"],["d","M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z"]],template:function(n,o){1&n&&t.YNc(0,lt,3,5,"section",0),2&n&&t.Q6J("ngIf",o.rate)},dependencies:[c.ez,c.sg,c.O5,c.PC],encapsulation:2});class T{}T.\u0275fac=function(n){return new(n||T)},T.\u0275mod=t.oAB({type:T}),T.\u0275inj=t.cJS({imports:[c.ez,p,F.m,m,P]})}}]);